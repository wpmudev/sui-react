import { useRef } from "react"
import { Section, Preview, Snippet, Code } from "@wpmudev/storybook"
import { Modal, ModalHeader, ModalFooter, ModalBody } from "../../src"
import dedent from "dedent"
import { Button } from "@wpmudev/sui-button"
import { Input } from "@wpmudev/sui-input"
import { FormField } from "@wpmudev/sui-form-field"

export const simpleCode = dedent`

    export const SimpleModal = () => {

    const ref = useRef();

    return (
        <>
            <Modal id="simple-modal" ref={ref}>

                <ModalHeader title="Apply Config">
                    Choose the audience you want to send form data to.
                </ModalHeader>

                <ModalBody>
                    Are you sure you want to apply the Default config to this site? We
                    recommend you have a backup available as your existing settings
                    configuration will be overridden.
                </ModalBody>

                <ModalFooter>
                    <Button
                        appearance="secondary"
                        color="blue"
                        isSmall={true}
                        onClick={() => ref.current.closeModal()}
                    >
                       Cancel
                    </Button>

                    <Button
                        appearance="primary"
                        color="blue"
                        isSmall={true}
                        onClick={() => {
                            console.log("Submitted")
                        }}
                    >
                        Apply
                    </Button>
                </ModalFooter>
            </Modal>

            <Button
               appearance="primary"
               color="blue"
               onClick={() => {
    	          ref.current.openModal()
               }}
            >
                Apply Config
            </Button>
        </>
    )

}

`

export const SimpleModal = () => {

    const ref = useRef();

    return (
    	<>
    		<Modal id="simple-modal" ref={ref}>

    			<ModalHeader title="Apply Config">
    				Choose the audience you want to send form data to.
    			</ModalHeader>

    			<ModalBody>
    				Are you sure you want to apply the Default config to this site? We
    				recommend you have a backup available as your existing settings
    				configuration will be overridden.
    			</ModalBody>

    			<ModalFooter>
    				<Button
    					appearance="secondary"
    					color="blue"
    					isSmall={true}
    					onClick={() => ref.current.closeModal()}
    				>
    					Cancel
    				</Button>

    				<Button
    					appearance="primary"
    					color="blue"
    					isSmall={true}
    					onClick={() => {
    						console.log("Submitted")
    					}}
    				>
    					Apply
    				</Button>
    			</ModalFooter>
    		</Modal>

    			<Button
    				appearance="primary"
    				color="blue"
    				onClick={() => {
    					ref.current.openModal()
    				}}
    			>
    				Apply Config
    			</Button>
    	</>
    )

}

<Section contained={true} style={{ paddingTop: 30 }}>
	<p>Simple Dialog</p>
	<div className="sui-wrap sui-theme--light" >
    	<SimpleModal />
    	<div style={{ marginTop: "20px" }}>
    		<Snippet language="js">{simpleCode}</Snippet>
    	</div>
    </div>

</Section>

export const advancedCode = dedent`
    Replace This
`

export const AdvancedModal = () => {

    const ref = useRef();

    return (
    	<>
    		<Modal id="advanced-modal" ref={ref}>

    			<ModalHeader title="Submit Button" />

    			<ModalBody>
    				<FormField label="Button Text">
    					<Input id="button-text" placeholder="Enter Text" />
    				</FormField>
    				<FormField label="Button Processing Text" helper="This text will appear as button text while the quiz is being submitted.">
    					<Input id="button-processing-text" placeholder="Sending..." />
    				</FormField>
    				<hr />
    				<FormField label="Custom CSS Class" helper={`These will be output as you see them here. To add multiple classes, separate them with a space. For example, "form-submit-btn button" will add two classes "form-submit-btn" and "button".`}>
    					<Input id="custom-css-class" placeholder="Eg., form-submit-btn" />
    				</FormField>
    			</ModalBody>

    			<ModalFooter>
    			    <Button
    					appearance="secondary"
    					color="blue"
    					isSmall={true}
    					onClick={() => ref.current.closeModal()}
    				>
    					Secondary
    				</Button>
    				<Button
    					appearance="secondary"
    					color="blue"
    					isSmall={true}
    					onClick={() => ref.current.closeModal()}
    				>
    					Secondary
    				</Button>

    				<Button
    					appearance="primary"
    					color="blue"
    					isSmall={true}
    					onClick={() => {
    						console.log("Submitted")
    					}}
    				>
    					Primary
    				</Button>
    			</ModalFooter>
    		</Modal>

    			<Button
    				appearance="primary"
    				color="blue"
    				onClick={() => {
    					ref.current.openModal()
    				}}
    			>
    				Open form
    			</Button>
    	</>
    )

}

<Section contained={true} style={{ paddingTop: 30 }}>
	<p>Advanced Dialog</p>
	<div className="sui-wrap sui-theme--light">

    	<AdvancedModal />

    	<div style={{ marginTop: "20px" }}>
    		<Snippet language="js">{advancedCode}</Snippet>
    	</div>
    </div>

</Section>
