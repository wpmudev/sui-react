import { Section, Preview, Snippet, Switcher, Code } from "@wpmudev/storybook"
import { Notification, NotificationRenderer } from "../../src"
import { Button } from "@wpmudev/sui-button"
import { useNotifications } from "../../src/use-notification"

import dedent from "dedent"

import Info from "./Examples/variation/Info.mdx"
import Success from "./Examples/variation/Success.mdx"
import Warning from "./Examples/variation/Warning.mdx"
import Error from "./Examples/variation/Error.mdx"

import Sm from "./Examples/size/Sm.mdx"
import Lg from "./Examples/size/Lg.mdx"

export const ToastButton = () => {
	const notification = useNotifications()
	return (
		<Button
			appearance="secondary"
			color="blue"
			isSmall={true}
			onClick={() => {
				notification.push({
					title: "Toast Title",
					message: "This is notification message.",
					icon: "CheckAlt",
				})
			}}
		>
			Show Notification
		</Button>
	)
}

export const TimeOutToastButton = () => {
	const notification = useNotifications()
	return (
		<Button
			appearance="secondary"
			color="blue"
			isSmall={true}
			onClick={() => {
				notification.push({
					title: "Toast Title",
					message: "This is notification message.",
					icon: "CheckAlt",
					timeout: 1000,
				})
			}}
		>
			Show Notification
		</Button>
	)
}

export const sampleCode = dedent`
     <Notification
      title="Notification Title"
      message="This is notification message."
      icon="CheckAlt"
   />
`

export const DismissCode = dedent`
     <Notification
      title="Notification Title"
      message="This is notification message."
      icon="CheckAlt"
      isDismissible={true}
   />
`

export const ActionCode = dedent`
        <Notification
            title="Notification Title"
            message="This is notification message."
            icon="CheckAlt"
            action={
                  <Button
                    className="csb-banner__cta"
                    appearance="secondary"
                    color="blue"
                    isSmall={true}
                >
                   Action
                </Button>
            }
        />
`

export const ToastCode = dedent`
    const ToastExample = () => {
    const notification = useNotifications()
    return (
        <>
        <NotificationRenderer />
        <Button
            appearance="secondary"
            color="blue"
            isSmall={true}
            onClick={() => {
                notification.push({
                    title: "Notification Title",
                    message: "This is notification message.",
                    icon: "CheckAlt",
                })
            }}
        >
            Show Notification
        </Button>
        </>
    )
}
`

export const TimeOutToastCode = dedent`
    const ToastExample = () => {
    const notification = useNotifications()
    return (
        <>
        <NotificationRenderer />
        <Button
            appearance="secondary"
            color="blue"
            isSmall={true}
            onClick={() => {
                notification.push({
                    title: "Notification Title",
                    message: "This is notification message.",
                    icon: "CheckAlt",
                    timeout: 1000
                })
            }}
        >
            Show Notification
        </Button>
        </>
    )
}
`

<Section contained={true} style={{ paddingTop: 30 }}>
	<p>Basic Notification Example </p>
	<Preview wrapper={true}>
    	<Notification
    		title="Notification Title"
			message="This is notification message."
    		icon="CheckAlt"
    	/>
    </Preview>
    <Snippet language="js">{sampleCode}</Snippet>

</Section>

<Section
	title="Variation"
	contained={true}
	style={{ paddingTop: 30 }}
>
	You can change the type of the notification by changing the{" "}
		<Code small={true}>variation</Code> prop
	<Switcher>
		<div label="info" value="info">
			<Info />
		</div>
		<div label="success" value="success">
			<Success />
		</div>
		<div label="warning" value="warning">
			<Warning />
		</div>
		<div label="error" value="error">
			<Error />
		</div>
	</Switcher>

</Section>

<Section
	title="Size"
	contained={true}
	style={{ paddingTop: 30 }}
>
	You can change the size of the notification by changing the{" "}
	<Code small={true}>size</Code> prop
	<Switcher>
		<div label="sm" value="sm">
			<Sm />
		</div>
		<div label="lg" value="lg">
			<Lg />
		</div>

    </Switcher>

</Section>

<Section title="Dismissible" contained={true} style={{ paddingTop: 30 }}>
	Set <Code small={true}>isDismissible</Code> prop to{" "}
	<Code small={true}>true</Code> if you want to add a dismissing button
	<Preview wrapper={true}>
		<Notification
			title="Notification Title"
			message="This is notification message."
			icon="CheckAlt"
			isDismissible={true}
		/>
	</Preview>
	<Snippet language="js">{DismissCode}</Snippet>
</Section>

<Section title="Action" contained={true} style={{ paddingTop: 30 }}>
	Use the <Code small={true}>action</Code> prop to add a custom action button to
	the notification
	<Preview wrapper={true}>
		<Notification
			title="Notification Title"
			message="This is notification message."
			icon="CheckAlt"
			action={
				<Button
					className="csb-banner__cta"
					appearance="secondary"
					color="blue"
					isSmall={true}
				>
					Action
				</Button>
			}
		/>
	</Preview>
	<Snippet language="js">{ActionCode}</Snippet>
</Section>

<Section title="Toasts" contained={true} style={{ paddingTop: 30 }}>
	Utilize <Code small={true}>useNotifications</Code> hook and
	<Code small={true}>{`<NotificationRenderer />`}</Code> component if you want to
	add and remove notifications dynamically
	<div className="sui-wrap sui-theme--light" style={{marginBottom: "20px"}}>
		<div className="sui-layout sui-layout--horizontal sui-layout--vertical">
			<NotificationRenderer />
    		<ToastButton />
    	</div>
    </div>
    <Snippet language="js">{ToastCode}</Snippet>

    <Section
    		title={{ content: "timeout",  small: false }}
    		style={{ paddingTop: 0, paddingLeft: 20, paddingRight: 0, paddingBottom: 0 }}
    	>
    		<p> By default, the toast is dismissed after <Code small={true}>5000ms</Code>, you can customize that by using <Code small={true}> timeout</Code> prop, in the following example the notice is dismissed after <Code small={true}>1000ms</Code>.</p>
    	</Section>



    	<div className="sui-wrap sui-theme--light" style={{marginBottom: "20px"}}>
    	<div className="sui-layout sui-layout--horizontal sui-layout--vertical">
    		<NotificationRenderer />
    		<ToastButton />
    	</div>
    </div>
    <Snippet language="js">{TimeOutToastCode}</Snippet>

</Section>
